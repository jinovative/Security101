### 📚 모듈 4: Skyhigh Security Cloud 정책 이해 및 구현하기

이 모듈에서는 다양한 유형의 보안 정책을 어떻게 생성하고 관리하는지, 그리고 이를 통해 어떻게 클라우드 환경을 보호하는지 학습합니다.

---

#### **강의 4.1: 데이터 유출 방지 (DLP - Data Loss Prevention) 정책**

- **DLP 정책의 목적**
    - DLP 정책은 민감하거나 보호되어야 할 콘텐츠가 의도적이든 비의도적이든 보안 환경을 벗어나지 않도록 하는 것을 목표로 합니다.
        
    - Skyhigh Security Cloud의 DLP 정책을 사용하면 이메일과 파일 접근을 허가된 사용자나 특정 위치로 제한할 수 있습니다.
        
    - 시스템 관리자는 민감 문서에 대한 협업 허용 사용자도 제어할 수 있습니다.
        
- **DLP 정책 생성 및 관리 화면**
    - DLP 정책은 **정책 (Policy) > DLP 정책 (DLP Policies)** 메뉴에서 확인하고 관리할 수 있습니다.
        
    - DLP 정책 페이지에서는 필터, 옴니바 검색, 새 정책 생성 액션, 정책 이름, 설명, 상태, 배포 유형, 서비스 인스턴스, 마지막 업데이트 날짜, 마지막 업데이트 사용자 등의 정보를 확인할 수 있습니다.
        
- **DLP 정책 생성 시 주요 정의 필드**
    
    - **이름 및 설명 (Name & Description)**
    - **통합 방법 유형 (Type of integration method)**: API, 프록시 등
    - **정책 적용 서비스 (Services to apply policy to)**
    - **특정 사용자 포함/제외 (Include/Exclude specific users)**
    - **규칙 및 심각도 (Rules and Severity)**
    - **예외 (Exceptions)**
    - **대응 (Response)**
    - **정책 활성화/비활성화 (Enable/Disable policy)**
- **규칙 및 규칙 그룹 (Rules and Rule Groups)**
    - 정책의 규칙 섹션은 인시던트(incident, 보안 사건) 발생 기준을 정의합니다.
        
    - 여러 규칙 유형을 불리언(Boolean) 논리를 사용하여 결합할 수 있으며, 이는 규칙 그룹을 통해 지원됩니다.
        
    - 한 그룹 내의 모든 규칙은 'AND' 연산자로 결합되어, 그룹 내 모든 규칙이 일치해야 합니다.
        
    - 여러 규칙 그룹을 정의할 수 있으며, 이 그룹들은 'OR' 연산자로 결합됩니다. 즉, 정책 내의 어떤 그룹이라도 일치하면 정책이 트리거됩니다.
        
- **규칙 유형 (Rule Types)**
    - **분류 (Classifications)**: 파일의 기밀 수준에 따라 파일을 분류하고 해당 기밀 수준과 관련된 보안 정책을 적용할 수 있게 합니다. 현재 Box 및 Skyhigh Security 분류와 함께 사용할 수 있습니다.
        
    - **협업 (Collaboration)**: 서비스 내 협업 이벤트를 탐지합니다. 권한 수정 또는 공유 링크 제거 대응 조치와 함께 적용하면 안전한 협업을 구현하고 사용자가 콘텐츠를 공유하는 방식을 제어할 수 있습니다.
        
    - **파일 경로 / 폴더 ID (File Path / Folder ID)**: 특정 폴더의 파일에만 DLP 정책을 적용하거나 해당 폴더를 DLP 정책에서 제외할 수 있게 합니다. 쉼표로 구분된 파일 경로 목록을 지정할 수 있습니다.
        
    - **분류 레이블 (Classification Label)**: 파일의 기밀 수준에 따라 파일을 분류하고 고유한 레이블 식별자를 사용하여 정책을 구성합니다.
    - **사용자 위험 (User Risk)**: 사용자를 낮음, 중간, 높음 위험 사용자와 같은 위험 유형에 따라 분류하고 해당 위험 유형과 관련된 보안 정책을 적용합니다. 이를 통해 조직의 잠재적 위협을 완화하고 가장 민감한 정보를 보호하는 데 필요한 통제를 적용할 수 있습니다.
        
- **DLP 정책의 예외 (Exceptions)**
    - 예외는 특정 이벤트, 메시지 또는 문서가 DLP 정책에 의해 무시되어야 할 때를 정의합니다.
        
    - 별도의 예외 규칙을 추가하거나 규칙 내 '제외' 옵션에 데이터 식별자를 추가할 수 있습니다.
        
    - 예외는 정책의 규칙 섹션과 동일한 규칙 유형을 활용하며 규칙 그룹을 사용할 수 있습니다.
        
    - 예외를 추가하려면 정책 생성/편집 과정에서 '예외 추가(Add Exception)'를 클릭하고, 예외 유형(위치, 일치 횟수, 키워드 유효성 검사 등)을 선택하며, 이 정책에서 제외할 데이터 식별자(사전 정의된 사전 또는 수동 입력)를 지정합니다.
        
- **대응 조치 (Response Actions)**
    - 대응 조치는 정책이 트리거되었을 때 수행되는 행동을 정의합니다.
        
    - 기본적으로 모든 정책은 Skyhigh Security Cloud에 나타나는 인시던트를 생성합니다.
        
    - 각 정책은 인시던트 생성 시 상태, 담당자 및/또는 해결 조치를 자동으로 할당할 수 있습니다.
        
    - 하나의 이벤트, 메시지 또는 문서가 여러 정책을 트리거하면 각 해당 정책에 대해 인시던트가 생성됩니다. 그러나 문서에 대한 대응은 가장 제한적인 정책을 반영합니다.
        
    - 대응 조치는 트리거된 규칙 그룹의 심각도에 따라 조건부로 실행될 수 있습니다.
        
    - API, 라이트닝 링크(Lightning Link), 프록시(Proxy) 배포 유형에 따라 선택 가능한 대응 조치가 다릅니다. (예: 격리(Quarantine), 삭제(Delete), 링크 제거(Remove Link), 이메일 차단(Block Email), 암호화(Encrypt) 등)
        
- **DLP 정책의 사용자 및 사용자 그룹**
    - 사용자 그룹을 사용하면 DLP 및 보안 협업 정책을 조직 내 특정 사용자 그룹에 적용할 수 있습니다.
        
    - Skyhigh Security Cloud Connector에서 생성된 사용자 지정 속성을 사용하여 그룹을 만들고 특정 사용자 그룹 내의 사용자에게만 정책이 적용되도록 지정할 수 있습니다. 예를 들어, HR 사용자 그룹을 제외하고 직원 정보(이름, 사번, SSN, 생년월일 등) 공유를 차단하는 DLP 정책을 설정할 수 있습니다.
        
- **DLP 인시던트에 대한 알림 (Notifications)**
    - 특정 DLP 정책 대응 조치는 이메일 알림을 활성화할 수 있게 합니다.
        
    - Skyhigh Security Cloud는 24시간마다 최대 10,000건의 알림 이메일을 조직에 보내 DLP 정책 인시던트를 알립니다. 이 한도에 도달하면 24시간이 갱신될 때까지 이메일 알림이 중단됩니다.
        
    - 이를 방지하기 위해, DLP 정책 응답에서 사용자 알림을 비활성화하거나, 요약 이메일 알림을 활성화하여 각 사용자가 매일 자신의 모든 위반 목록을 받도록 설정할 수 있습니다 (정책 > 정책 설정에서 구성 가능). 또는 특정 DLP 정책에서 사용자 알림 응답을 제거할 수 있습니다.
        

---

#### **강의 4.2: 정책 템플릿 (Policy Templates)**

- **정책 템플릿 활용**
    - 정책 템플릿 페이지에서 제공되는 템플릿을 사용하여 정책을 만들 수도 있습니다.
        
    - 이 페이지에서는 사용 가능한 다양한 정책 템플릿을 검색하거나 필터링하고 해당 템플릿을 데이터에 적용할 수 있습니다.
        
    - **일반적인 사용 사례**:
        
        - 구성 감사 (Configuration Audits)
        - 규정 준수 온디맨드 스캔 (Compliance On Demand Scans)
        - 데이터 유출 방지 정책 (Data Loss Prevention policies)
        - 보안 협업 정책 (Secure Collaboration policies)
        - 컨테이너 보안 스캔 (Container Security Scans)
- **정책 템플릿 범주**
    - 정책 템플릿은 다음과 같은 범주로 구성되어 있습니다:
        - **정책 유형 (Policy Type)**: 보안 구성, 규정 준수/DLP, 보안 협업 등으로 구성됩니다.
            
        - **비즈니스 요구 사항 (Business Requirement)**: 조직 목표 달성을 돕기 위한 사용 사례별로 구성됩니다.
            
        - **권장 사항/벤치마크 (Recommendation/Benchmark)**: CIS 레벨 벤치마크 레벨 1 및 레벨 2, NIST 800-53, PCI DSS, HIPAA와 같은 산업 표준 벤치마크 및 권장 사항별로 구성됩니다.
            
        - **배포 방법 (Deployment Method)**: API 통합에 특화된 템플릿입니다.
            
        - **산업 (Industry)**: 가장 일반적으로 사용되는 산업별로 표시됩니다.
            
        - **적용 가능한 서비스 (Service Applicable To)**: 가장 일반적으로 사용되는 클라우드 서비스 제공업체(CSP - Cloud Service Provider)별로 구성됩니다.
            
- **템플릿 보기 및 필터링**
    - 옴니바 아래의 테이블 아이콘을 클릭하여 사용 가능한 정책 템플릿을 테이블 형식으로 표시할 수 있습니다.
        
    - 필터 탭의 '사용 여부(Usage)'에서 '사용 중(In Use)' 또는 '사용 안 함(Not Used)'을 선택하여 정책 템플릿을 필터링할 수 있습니다.
        

---

#### **강의 4.3: 클라우드 접근 보호 (Cloud Access Protection) 정책**

- **클라우드 접근 보호 정책의 목적**
    - 클라우드 접근 정책은 클라우드 데이터 접근을 보호하고 디바이스를 관리하는 데 사용됩니다.
        
    - 모든 서비스 업로드에 대한 접근을 차단하도록 설정할 수 있습니다. 예를 들어, 파일 다운로드 전에 추가 인증(step-up authentication)을 요구하도록 구성된 정책은 ID 공급자(IDP - Identity Provider)에서 다단계 인증(MFA - Multi Factor Authentication)이 활성화되어 있어야 합니다.
        
- **작동 방식**
    - 'IF - THEN' 조건부 인수를 사용하여 정책을 구축합니다. 'IF'는 조건을 정의하고 'THEN'은 수행되는 작업을 정의합니다.
        
    - 조건은 'IS' 또는 'IS NOT' 인수와 함께 사용되어 정책이 실행되어야 하는 특정 상황을 정의합니다. 작업은 정책이 실행될 때 발생하는 일을 결정합니다.
        
    - 클라우드 접근 정책은 위에서 아래 순서로 평가됩니다. 참(true)으로 평가되고 "모니터 전용 모드(Monitor only mode)"가 아닌 첫 번째 규칙에서 처리가 중지됩니다. 기본 거부는 암시되지 않으므로 명시적으로 추가해야 합니다.
        
- **디바이스 관리를 위한 인증서 프로비저닝**
    - 인증서는 인증 기관(CA - Certificate Authority) 또는 공개 키 기반 구조(PKI - Public Key Infrastructure) 시스템을 사용하거나 OpenSSL(Open Secure Sockets Layer)을 사용하여 생성됩니다.
        
    - 인증서는 MDM (Mobile Device Management, 모바일 기기 관리), GPO (Group Policy Object, 그룹 정책 개체) 또는 기타 패키지 관리 유틸리티를 통해 관리되는 엔드포인트에 배포됩니다.
        
    - 서명 인증서(공개)는 Skyhigh Security Cloud에 업로드됩니다.
        
- **디바이스 인증서 확인 워크플로우 (관리/비관리 구분)**
    - 디바이스가 접근을 요청하면 Skyhigh Security Cloud는 필요한 인증서가 있는지 확인합니다 (CA 공개 인증서로 서명되어야 함).
        
    - 유효한 인증서가 있으면 관리형 엔드포인트로 간주하고, 없으면 비관리형 엔드포인트로 간주합니다.
        
- **사용 가능한 조건 및 조치**
    
    - **조건 예시**: 서비스, 사용자 그룹, 디바이스, 활동, SAML(Security Assertion Markup Language) 표현식, 디바이스 유형, IP 주소 범위 등
    - **조치 예시**: 접근 허용, 접근 차단, 인증서 확인(프록시 관리, 비관리 차단), 추가 인증, 인스턴스 지정 등

---

#### **강의 4.4: 디바이스 관리 (Device Management)**

- **디바이스 관리 포털**
    - 디바이스 관리를 통해 Skyhigh Security Cloud 역방향 프록시(Reverse Proxy)를 통한 클라우드 트래픽을 등록하고 승인하는 사용자 지정 포털을 만들 수 있습니다.
        
    - 이전에 승인되지 않은 디바이스를 통해 클라우드에 접속하는 사용자는 클라우드 서비스에 연결하기 전에 디바이스(컴퓨터 또는 모바일 디바이스)를 프로비저닝하라는 요청을 받게 됩니다. 이는 클라우드 접근 보호 정책을 사용하여 시행할 수 있습니다.
        
    - 디바이스 관리 포털은 **정책 (Policy) > 접근 제어 (Access Control) > 디바이스 관리 (Device Management)**에서 사용자 지정할 수 있습니다.
        
- **사용자 지정 포털 생성**
    - 사용자 지정 포털은 사용자가 등록되고 승인되는 브랜드 사이트입니다. 관리자는 페이지 요소의 색상 설정, 회사 로고 업로드, 표시 텍스트 편집 등을 할 수 있습니다. 최대 5개의 자유 텍스트 필드를 사용하여 디바이스별 추가 정보를 수집하고 등록 자격을 결정할 수 있습니다.
        
- **IP 허용 목록 (IP Allow List)**
    - 허용된 IP 주소 범위를 만들 수 있습니다. 허용된 IP 주소를 통해 클라우드 서비스 제공업체로 가는 트래픽은 차단되거나 위험한 트래픽으로 등록되지 않습니다.
        
- **인증서를 사용한 관리형 디바이스 구성**
    - **정책 (Policy) > 접근 제어 (Access Control) > 디바이스 관리 (Device Management)**로 이동합니다.
        
    - '디바이스 인증서(Device Certificates)' 탭에서 '인증서 확인 활성화(Enable Certificate Checks)' 확인란을 활성화합니다.
        
    - 클라이언트 디바이스의 루트 인증서를 업로드합니다.
        
- **MDM (Mobile Device Management) 솔루션과의 통합**
    - Skyhigh Security Cloud는 MDM 솔루션과 통합하여 MDM 데이터베이스에서 추가 사용자 정보를 가져오고, 사용자의 디바이스에 있는 인증서와 대조하여 관리형 디바이스를 식별할 수 있습니다.
        

---

### 🛠️ 모듈 4 실습 및 복습

- **시나리오 기반 정책 설계**:
    - **DLP 정책**: "우리 회사에서는 직원이 개인 이메일 계정으로 고객의 신용카드 정보가 포함된 파일을 전송하는 것을 막고 싶습니다." 이 시나리오에 대한 DLP 정책의 주요 설정(규칙, 심각도, 대응 조치 등)을 구상해보세요.
    - **클라우드 접근 정책**: "관리되지 않는 개인 노트북에서는 회사 Office 365의 SharePoint 접근은 허용하되, 파일 다운로드는 차단하고 싶습니다." 이 시나리오를 위한 클라우드 접근 정책의 조건과 조치를 생각해보세요.
    - 어떤 정책 템플릿이 위 시나리오에 유용하게 사용될 수 있을지 찾아보세요.
- **디바이스 관리 상상해보기**:
    - 우리 회사 로고와 안내 문구를 사용하여 직원들이 새 디바이스를 등록할 때 보게 될 사용자 지정 포털 화면을 간단히 스케치해보거나 설명해보세요.
- **용어 정리**:
    - 인시던트 (Incident)
    - 불리언 논리 (Boolean Logic)
    - CA (Certificate Authority) - 인증 기관
    - PKI (Public Key Infrastructure) - 공개 키 기반 구조
    - MDM (Mobile Device Management) - 모바일 기기 관리
    - GPO (Group Policy Object) - 그룹 정책 개체
    - SAML (Security Assertion Markup Language)
    - MFA (Multi Factor Authentication) - 다단계 인증
    - IDP (Identity Provider) - ID 공급자