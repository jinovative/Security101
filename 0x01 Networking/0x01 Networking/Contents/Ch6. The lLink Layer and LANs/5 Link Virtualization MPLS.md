[[The Link Layer and LANs]]


#### **요약 (Summary)**

**MPLS (Multiprotocol Label Switching, 다중 프로토콜 라벨 스위칭)**는 **IP 패킷을 더 빠르고 효율적으로 전달하기 위해 라벨(Label) 기반의 포워딩을 사용하는 기술**이다.  
기존의 **IP 기반 라우팅이 목적지 IP 주소를 기반으로 경로를 찾는 반면, MPLS는 패킷에 라벨을 부착하여 더 빠르게 전달**한다.  
이를 통해 **트래픽 엔지니어링(Traffic Engineering), QoS(Quality of Service) 보장, VPN(가상 사설망) 지원 등 네트워크 성능을 최적화할 수 있음**.

---

## **6.5.1 Why MPLS? (왜 MPLS가 필요한가?)**

### **설명 (Explanation)**

전통적인 IP 라우팅에서는 **Longest Prefix Match(LPM) 방식**을 사용하여 라우팅 테이블을 검색하는 과정이 필요하므로,  
대규모 네트워크에서는 속도가 느려지고 경로 최적화가 어려워짐.  
MPLS는 **라벨(Label) 기반의 포워딩을 사용하여 이러한 문제를 해결**한다.

### **1️⃣ 기존 IP 라우팅의 문제점**

|문제|설명|
|---|---|
|**속도 저하**|라우터가 목적지 IP를 확인하고, 라우팅 테이블을 검색해야 하므로 성능 저하 발생|
|**트래픽 엔지니어링 어려움**|경로 최적화가 어렵고, 네트워크 혼잡이 발생할 가능성이 높음|
|**QoS 보장 부족**|다양한 트래픽 유형(예: VoIP, 스트리밍)에 맞게 경로를 설정하기 어려움|

### **2️⃣ MPLS의 장점**

✅ **라벨 기반 포워딩으로 빠른 데이터 전송 가능**  
✅ **트래픽 엔지니어링 지원 → 최적의 경로 설정 가능**  
✅ **QoS 지원 → 네트워크 서비스 품질 보장 가능**  
✅ **VPN 지원 → 여러 고객이 동일 네트워크를 사용하더라도 보안 유지 가능**

##### **💡 Real-Life Example (실생활 예시)**

> **MPLS는 네비게이션의 고속도로 전용 차선과 유사하다.**
> 
> - 일반 도로(IP 라우팅)에서는 목적지를 찾기 위해 여러 번 경로 검색이 필요하지만,
> - **MPLS(라벨 기반 포워딩)를 사용하면 미리 정해진 빠른 경로를 따라 이동 가능**.

---

## **6.5.2 How MPLS Works (MPLS의 동작 방식)**

### **설명 (Explanation)**

MPLS는 **IP 패킷을 전송하기 전에 Label을 부착하고, 라우터가 이 Label을 기반으로 패킷을 전달하는 방식**을 사용한다.  
이를 통해 기존의 **IP 헤더 분석 없이도 빠른 전송이 가능**하며, **사전 정의된 경로를 사용할 수 있음**.

### **1️⃣ MPLS Label Structure (MPLS 라벨 구조)**

MPLS 라벨은 **4개의 필드**로 구성됨.

|필드|크기 (Bits)|설명|
|---|---|---|
|**Label**|20|패킷의 경로를 결정하는 라벨|
|**Traffic Class (EXP)**|3|QoS를 위한 우선순위 정보|
|**Bottom of Stack (S)**|1|라벨 스택의 마지막 라벨 여부 표시|
|**Time-to-Live (TTL)**|8|패킷이 네트워크에서 생존할 수 있는 최대 홉 수|

📌 **MPLS 라벨 예제**

less

CopyEdit

`IP 패킷: [IP Header] [Payload] MPLS 패킷: [MPLS Label] [IP Header] [Payload]`

→ **IP 패킷 앞에 MPLS 라벨이 추가되어 더 빠르게 포워딩 가능**.

---

### **2️⃣ MPLS Forwarding Process (MPLS 포워딩 과정)**

|단계|과정 설명|
|---|---|
|**1. Label Push (라벨 부착)**|첫 번째 라우터(Edge Router)가 IP 패킷에 MPLS 라벨 추가|
|**2. Label Swap (라벨 교체)**|중간 라우터(Core Router)가 기존 라벨을 새로운 라벨로 변경|
|**3. Label Pop (라벨 제거)**|마지막 라우터(Edge Router)가 MPLS 라벨을 제거하고 원래 IP 패킷 전달|

📌 **MPLS 네트워크 예제**

java

CopyEdit

`Ingress Router (라벨 부착) → Core Router (라벨 교체) → Egress Router (라벨 제거) → 목적지 도착`

##### **💡 Real-Life Example (실생활 예시)**

> **MPLS의 라벨 기반 포워딩은 공항 수하물 처리 시스템과 유사하다.**
> 
> - **승객(패킷)**이 **탑승권(라벨)**을 받아 특정 루트를 따라 이동하듯,
> - **MPLS는 패킷이 목적지까지 가장 빠르게 도달할 수 있도록 미리 설정된 경로를 사용**.

---

## **6.5.3 MPLS Applications (MPLS의 주요 활용 사례)**

### **설명 (Explanation)**

MPLS는 대규모 네트워크에서 다양한 응용 사례에 활용되며, 특히 **QoS, VPN, 트래픽 엔지니어링**을 지원하는 데 유용하다.

### **1️⃣ MPLS Applications (MPLS 주요 응용 분야)**

|응용 분야|설명|
|---|---|
|**Traffic Engineering (트래픽 엔지니어링)**|네트워크 혼잡을 방지하고 최적의 경로를 제공|
|**QoS (Quality of Service)**|VoIP, 비디오 스트리밍과 같은 서비스의 우선순위를 보장|
|**MPLS VPN (가상 사설망)**|기업별로 논리적으로 분리된 네트워크를 제공|
|**Fast Reroute (빠른 장애 복구)**|장애 발생 시 대체 경로로 신속하게 트래픽을 전환|

##### **💡 Real-Life Example (실생활 예시)**

> - **MPLS Traffic Engineering = GPS가 도로 교통 정보를 기반으로 최적의 경로를 선택하는 것**
> - **MPLS VPN = 하나의 건물 내에서 여러 개의 독립적인 사무실 네트워크를 운영하는 것**

---

## **6.5.4 MPLS vs. Traditional IP Routing (MPLS와 기존 IP 라우팅 비교)**

### **설명 (Explanation)**

MPLS는 기존의 IP 라우팅 방식보다 더 효율적이며, **QoS 및 트래픽 관리 기능이 뛰어남**.

|구분|Traditional IP Routing|MPLS Routing|
|---|---|---|
|**경로 결정 방식**|목적지 IP 기반|라벨 기반|
|**라우팅 방식**|Longest Prefix Match(LPM)|사전 정의된 Label Switching|
|**QoS 지원**|제한적|강력한 QoS 제공|
|**트래픽 엔지니어링**|제한적|우회 경로 및 대역폭 조절 가능|
|**속도**|상대적으로 느림|빠른 패킷 전달 가능|

##### **💡 Real-Life Example (실생활 예시)**

> - **기존 IP 라우팅 = 지도 없이 길을 찾아가며 목적지를 확인하는 방식**
> - **MPLS = 미리 정해진 경로(고속도로)를 이용하여 더 빠르게 이동하는 방식**

---

### **📌 핵심 정리 (Key Takeaways)**

1. **MPLS는 라벨(Label) 기반의 포워딩을 사용하여 기존 IP 라우팅보다 빠르고 효율적인 데이터 전송을 제공한다.**
2. **MPLS의 주요 특징은 트래픽 엔지니어링, QoS 보장, VPN 지원이며, 대규모 네트워크에서 최적의 성능을 보장한다.**
3. **MPLS는 기존 IP 라우팅 방식보다 빠르고, 우회 경로를 제공하며, 네트워크 관리가 용이하다.**

🚀 **한 문장 요약:**  
**MPLS는 IP 라우팅보다 빠르고 효율적인 라벨 기반 포워딩 기술로, QoS 보장, VPN 지원, 트래픽 엔지니어링과 같은 고급 네트워크 기능을 제공한다.**